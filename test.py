
import streamlit as st

st.set_page_config(page_title="간호 진로 탐색 앱", layout="wide")

# ======================
# 데이터 준비
# ======================

# 간호사 직무 데이터
jobs = {
    "응급실 간호사": {
        "설명": "응급 상황에서 환자의 생명을 지키기 위해 빠르게 대처하는 간호사.",
        "장점": "긴박한 상황에서 보람을 크게 느낌.",
        "단점": "교대근무와 높은 스트레스.",
        "필요 역량": "빠른 판단력, 침착함, 체력"
    },
    "수술실 간호사": {
        "설명": "수술 과정에서 환자와 의료진을 지원하는 간호사.",
        "장점": "전문 기술 습득 가능.",
        "단점": "정신적·육체적 피로가 큼.",
        "필요 역량": "세심함, 집중력, 체력"
    },
    "소아과 간호사": {
        "설명": "어린이 환자와 보호자를 돌보는 간호사.",
        "장점": "아이들과 함께하는 보람.",
        "단점": "보호자 대응의 어려움.",
        "필요 역량": "공감 능력, 인내심, 친절함"
    }
}

# Q&A 데이터
qa_list = [
    ("간호학과 입시에 필요한 성적은?", "대학마다 다르지만 보통 내신 2~3등급대에서 합격자가 많습니다."),
    ("간호학과에서 배우는 과목은?", "해부학, 생리학, 약리학, 간호학개론, 성인/아동/정신 간호학 등을 배웁니다."),
    ("간호사가 되려면 어떤 자격증이 필요한가요?", "간호학과 졸업 후 국가고시(간호사 국가시험)에 합격해야 합니다."),
    ("해외에서 간호사로 일할 수 있나요?", "국가마다 자격 요건이 달라, 별도의 면허 취득이 필요합니다.")
]

# ======================
# UI 구조
# ======================

st.title("🏥 간호 진로 탐색 가이드")
st.write("간호학과 진학을 준비하는 학생들을 위한 **직무 탐색 + Q&A + 적성 테스트 앱**입니다.")

menu = st.sidebar.radio("메뉴 선택", ["홈", "직무 탐색", "입시/진로 Q&A", "적성 테스트"])

# ======================
# 홈
# ======================
if menu == "홈":
    st.subheader("📌 앱 소개")
    st.write(
        """
        이 앱은 간호학과를 지망하는 학생들을 위해 만들어졌습니다.  
        - **직무 탐색**: 다양한 간호사의 역할과 특징을 알아볼 수 있어요.  
        - **입시/진로 Q&A**: 자주 묻는 질문에 대한 답변을 확인할 수 있어요.  
        - **적성 테스트**: 성향에 따라 어떤 간호사 직무가 어울리는지 추천해드려요.  
        """
    )

# ======================
# 직무 탐색
# ======================
elif menu == "직무 탐색":
    st.subheader("👩‍⚕️ 간호사 직무 탐색")

    for job, info in jobs.items():
        with st.expander(f"{job} 소개"):
            st.write(f"**설명:** {info['설명']}")
            st.write(f"**장점:** {info['장점']}")
            st.write(f"**단점:** {info['단점']}")
            st.write(f"**필요 역량:** {info['필요 역량']}")

# ======================
# Q&A
# ======================
elif menu == "입시/진로 Q&A":
    st.subheader("❓ 입시/진로 Q&A")

    search = st.text_input("🔍 검색 (예: '입시', '해외', '과목')")
    for q, a in qa_list:
        if search.lower() in q.lower() or search.lower() in a.lower():
            with st.expander(q):
                st.write(a)

# ======================
# 적성 테스트
# ======================
elif menu == "적성 테스트":
    st.subheader("🧩 나에게 맞는 간호사 직무 찾기")

    st.write("아래 질문에 답하면, 당신에게 어울리는 간호사 직무를 추천해드립니다!")

    q1 = st.radio("1. 어떤 상황에서 더 잘 대처하나요?", 
                  ["긴박한 상황에서도 침착하게 대처한다", "정확하고 세심하게 일하는 걸 좋아한다", "사람들을 잘 위로하고 공감한다"])

    q2 = st.radio("2. 내가 더 잘하는 것은?", 
                  ["빠른 판단과 실행", "계획대로 차근차근 진행", "사람의 마음을 읽고 소통"])

    q3 = st.radio("3. 선호하는 근무 환경은?", 
                  ["다양한 응급 상황이 많은 곳", "정해진 절차와 팀워크가 중요한 곳", "아이들과 가족 중심의 환경"])

    if st.button("결과 확인하기"):
        score = {"응급실 간호사": 0, "수술실 간호사": 0, "소아과 간호사": 0}

        # q1
        if q1 == "긴박한 상황에서도 침착하게 대처한다":
            score["응급실 간호사"] += 1
        elif q1 == "정확하고 세심하게 일하는 걸 좋아한다":
            score["수술실 간호사"] += 1
        else:
            score["소아과 간호사"] += 1

        # q2
        if q2 == "빠른 판단과 실행":
            score["응급실 간호사"] += 1
        elif q2 == "계획대로 차근차근 진행":
            score["수술실 간호사"] += 1
        else:
            score["소아과 간호사"] += 1

        # q3
        if q3 == "다양한 응급 상황이 많은 곳":
            score["응급실 간호사"] += 1
        elif q3 == "정해진 절차와 팀워크가 중요한 곳":
            score["수술실 간호사"] += 1
        else:
            score["소아과 간호사"] += 1

        # 최종 추천
        recommended = max(score, key=score.get)
        st.success(f"✅ 당신에게 가장 잘 맞는 직무는 **{recommended}** 입니다!")

        # 추가 설명
        info = jobs[recommended]
        st.write(f"**설명:** {info['설명']}")
        st.write(f"**필요 역량:** {info['필요 역량']}")
